[{"name":"app.R","content":"library(shiny)\nlibrary(bslib)\nlibrary(pointblank)\nlibrary(gt)\nlibrary(reactable)\n#source(\"R/utils.R\")\n\n# obtain record objects from object storage\npodcast_dupdf <- podcastdb_dupdf_object()\nanalysis_metrics_df <- podcastdb_analysisdf_object()\n\nui <- page_sidebar(\n  title = \"My Dashboard\",\n  sidebar = \"Sidebar\",\n  # main content\n  card(\n    card_header(\"Duplicate Records Summary\"),\n    mod_tbl_ui(\"record_analysis\")\n  )\n)\n\nserver <- function(input, output, session) {\n  analysis_metrics_rv <- reactive(analysis_metrics_df)\n  mod_tbl_server(\"record_analysis\", analysis_metrics_rv)\n}\n\n\n# Create Shiny app ----\nshinyApp(ui = ui, server = server)","type":"text"},{"name":"R/fct_tables.R","content":"record_analysis_table <- function(df) {\n  reactable::reactable(df)\n}\n\nrecord_detail_table <- function(df) {\n  reactable::reactable(df)\n}","type":"text"},{"name":"R/mod_tbl.R","content":"#' tbl UI Function\n#'\n#' @description A shiny Module.\n#'\n#' @param id,input,output,session Internal parameters for {shiny}.\n#'\n#' @noRd \n#'\n#' @importFrom shiny NS tagList \nmod_tbl_ui <- function(id) {\n  ns <- NS(id)\n  tagList(\n    reactable::reactableOutput(ns(\"record_table\"))\n  )\n}\n\n#' tbl Server Functions\n#'\n#' @noRd\n#' \nmod_tbl_server <- function(id, record_df) {\n  moduleServer(id, function(input, output, session) {\n    ns <- session$ns\n\n    output$record_table <- reactable::renderReactable({\n      req(record_df())\n      record_detail_table(record_df())\n    })\n  })\n}","type":"text"},{"name":"R/utils.R","content":"hello_world <- function() {\n  print(\"Hello World!\")\n}\n\npodcastdb_pointblank_object <- function() {\n  tmp_file <- tempfile(pattern = \"pointblank\")\n  download.file(\n    url = config::get(\"pointblank_object_path\"),\n    destfile = tmp_file\n  )\n\n  res <- pointblank::x_read_disk(\n    filename = fs::path_file(tmp_file),\n    path = fs::path_dir(tmp_file)\n  )\n\n  unlink(tmp_file)\n  return(res)\n}\n\npodcastdb_dupdf_object <- function() {\n  tmp_file <- tempfile(pattern = \"dupdf\")\n\n  download.file(\n    url = config::get(\"podcast_dup_df_path\"),\n    destfile = tmp_file\n  )\n\n  res <- readRDS(tmp_file)\n\n  unlink(tmp_file)\n  return(res)\n}\n\npodcastdb_analysisdf_object <- function() {\n  tmp_file <- tempfile(pattern = \"analysisdf\")\n\n  download.file(\n    url = config::get(\"podcast_analysis_df_path\"),\n    destfile = tmp_file\n  )\n\n  res <- readRDS(tmp_file)\n\n  unlink(tmp_file)\n  return(res)\n}\n","type":"text"},{"name":"config.yml","content":"default:\n  pointblank_object_path: \"https://podcast20-projects.us-east-1.linodeobjects.com/exports/podcastdb_pointblank_object/podcastdb_pointblank_object\"\n  podcast_dup_df_path: \"https://podcast20-projects.us-east-1.linodeobjects.com/exports/podcast_dup_df.rds\"\n  podcast_analysis_df_path: \"https://podcast20-projects.us-east-1.linodeobjects.com/exports/analysis_metrics_df.rds\"\n  ","type":"text"}]
